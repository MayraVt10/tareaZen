<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TareaZen</title>
  <link rel="icon" href="images/icono.jpg" type="image/png">
  <link rel="stylesheet" href="styles/styles.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Madimi+One&display=swap" rel="stylesheet">
  <script type="module" src="js/tasks.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>

    <nav class="navbar">
      <div class="navbar-left">
        <img src="images/icono.jpg" alt="Logo de TareaZen">
        <h2>TareaZen</h2>
      </div>
      <ul class="navbar-right">
        <li><a href="index.html">Tareas</a></li>
        <!--<li><a href="#">Reportes</a></li>-->
        <li><a href="login.html">Cerrar Sesión</a></li>
      </ul>
    </nav>
  
    <div class="filter-container">
      <label for="status-filter">Filtrar por Estado:</label>
      <select id="status-filter">
        <option value="">Todos</option>
        <option value="Pendiente">Pendiente</option>
        <option value="En curso">En curso</option>
        <option value="Completado">Completado</option>
      </select>
  
      <label for="due-date-filter">Filtrar por Fecha de Vencimiento:</label>
      <input type="date" id="due-date-filter">
  
      <label for="category-filter">Filtrar por Categoría:</label>
      <select id="category-filter">
        <option value="">Todos</option>
        <option value="Casa">Casa</option>
        <option value="Colegio">Colegio</option>
        <option value="Universidad">Universidad</option>
        <option value="Trabajo">Trabajo</option>
        <option value="Otro">Otro</option>
      </select>
  
      <label for="priority-filter">Filtrar por Prioridad:</label>
      <select id="priority-filter">
        <option value="">Todos</option>
        <option value="Alta">Alta</option>
        <option value="Media">Media</option>
        <option value="Baja">Baja</option>
      </select>
    </div>
    <br>
    <table id="task-table">
      <thead>
        <tr>
          <th>Nombre</th>
          <th>Estado</th>
          <th>Fecha de Vencimiento</th>
          <th>Tiempo Estimado</th>
          <th>Categoría</th>
          <th>Prioridad</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <!-- Aquí se añadirán las filas de tareas dinámicamente -->
      </tbody>
    </table>
  
    <button id="add-task-btn" class="float-btn" onclick="openTaskForm()">+</button>
  
    <div id="task-modal" class="modal">
      <div class="modal-content">
        <span class="close-btn" onclick="closeTaskForm()">&times;</span>
        <h2>Agregar Tarea</h2>
        <form id="task-form">
          <label for="task-name">Nombre:</label><br>
          <input type="text" id="task-name" name="task-name"><br>
          <label for="task-status">Estado:</label><br>
          <select id="task-status" name="task-status">
            <option value="Pendiente">Pendiente</option>
            <option value="En curso">En curso</option>
            <option value="Completado">Completado</option>
          </select><br>
          <label for="task-due-date">Fecha de Vencimiento:</label><br>
          <input type="date" id="task-due-date" name="task-due-date"><br>
          <label for="task-estimated-time">Tiempo Estimado:</label><br>
          <input type="text" id="task-estimated-time" name="task-estimated-time"><br>
          <label for="task-category">Categoría:</label><br>
          <select id="task-category" name="task-category">
            <option value="Casa">Casa</option>
            <option value="Colegio">Colegio</option>
            <option value="Universidad">Universidad</option>
            <option value="Trabajo">Trabajo</option>
            <option value="Otro">Otro</option>
          </select><br>
          <label for="task-priority">Prioridad:</label><br>
          <select id="task-priority" name="task-priority">
            <option value="Alta">Alta</option>
            <option value="Media">Media</option>
            <option value="Baja">Baja</option>
          </select><br>
          <input type="submit" value="Agregar">
        </form>
      </div>
    </div>

    <div id="task-edit-modal" class="modal">
      <div class="modal-content">
        <span class="close-btn" onclick="closeEditTaskForm()">&times;</span>
        <h2>Editar Tarea</h2>
        <form id="task-edit-form">
          <label for="task-edit-id">ID:</label>
          <input type="text" id="task-edit-id" name="task-id" readonly><br>
          <label for="task-edit-name">Nombre:</label><br>
          <input type="text" id="task-edit-name" name="task-name"><br>
          <label for="task-edit-status">Estado:</label><br>
          <select id="task-edit-status" name="task-status">
            <option value="Pendiente">Pendiente</option>
            <option value="En curso">En curso</option>
            <option value="Completado">Completado</option>
          </select><br>
          <label for="task-edit-due-date">Fecha de Vencimiento:</label><br>
          <input type="date" id="task-edit-due-date" name="task-due-date"><br>
          <label for="task-edit-estimated-time">Tiempo Estimado:</label><br>
          <input type="text" id="task-edit-estimated-time" name="task-estimated-time"><br>
          <label for="task-edit-category">Categoría:</label><br>
          <select id="task-edit-category" name="task-category">
            <option value="Casa">Casa</option>
            <option value="Colegio">Colegio</option>
            <option value="Universidad">Universidad</option>
            <option value="Trabajo">Trabajo</option>
            <option value="Otro">Otro</option>
          </select><br>
          <label for="task-edit-priority">Prioridad:</label><br>
          <select id="task-edit-priority" name="task-priority">
            <option value="Alta">Alta</option>
            <option value="Media">Media</option>
            <option value="Baja">Baja</option>
          </select><br>
          <input type="submit" value="Editar">
        </form>
      </div>
    </div>
  </body>

  <script>
    function openTaskForm() {
      document.getElementById("task-modal").style.display = "block";
    }

    function closeTaskForm() {
      document.getElementById("task-modal").style.display = "none";
    }

    function openEditTaskForm(task) {
      document.getElementById('task-edit-id').value = task.id;
      document.getElementById('task-edit-name').value = task.name;
      document.getElementById('task-edit-status').value = task.status;
      document.getElementById('task-edit-due-date').value = task.dueDate;
      document.getElementById('task-edit-estimated-time').value = task.estimatedTime;
      document.getElementById('task-edit-category').value = task.category;
      document.getElementById('task-edit-priority').value = task.priority;

      document.getElementById("task-edit-modal").style.display = "block";
    }

    function closeEditTaskForm() {
      document.getElementById("task-edit-modal").style.display = "none";
    }
  </script>
</html>
